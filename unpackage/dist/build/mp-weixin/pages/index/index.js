(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"41bc":function(t,e,o){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}))},"42fb":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"Index",data:function(){return{lon:"",lat:"",location:"",site_name:"",origin:[{imgsrc:"../../static/images/three1.png",title:"扫一扫"},{imgsrc:"../../static/images/three2.png",title:"油客云闪付"},{imgsrc:"../../static/images/three3.png",title:"会员码"}],schop:[{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"100"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"500"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"1000"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"1500"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"2000"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"2500"}],shoplist:[{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠500",num:"58",price:"188"},{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠1000",num:"58",price:"188"},{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠2500",num:"58",price:"188"}],baolist:[{baoimg:"../../static/images/bao1.png",baotext:"购物送油专区"},{baoimg:"../../static/images/bao2.png",baotext:"购水送油专区"}]}},onLoad:function(){},onShow:function(){this.getlocation(),this.getyujpw()},methods:{scroll:function(t){console.log(t),this.old.scrollTop=t.detail.scrollTop},godetail:function(e){t.navigateTo({url:"../components/shopdetail/shopdetail"})},tlick:function(e){if(console.log(t.getStorageSync("openid")),""!=t.getStorageSync("openid"))if(0==e){t.scanCode({onlyFromCamera:!0,success:function(t){console.log(t)}})}else 1==e?t.navigateTo({url:"../components/shanpay/shanpay"}):2==e&&t.navigateTo({url:"../components/ewm/ewm"});else t.navigateTo({url:"../login/wx_login"})},getlocation:function(){var t=this;console.log(t.$base,"0000");var e=new t.$amap.AMapWX({key:t.$base.gd_key});e.getRegeo({success:function(e){console.log(e);var o=/.+?(省|市|自治区|自治州|县|区)/g,n=e[0].regeocodeData.formatted_address;t.addressList=n.match(o).toString().split(","),t.location=n.replace(t.addressList[0],""),t.lat=e[0].latitude,t.lon=e[0].longitude,t.getsite(t.lat,t.lon)},fail:function(t){}})},getsite:function(e,o){var n=this,i={latitude:e,longitude:o};this.$myRequest({url:"work/get_latitude_longitude",method:"POST",data:i,type:"php",hideLoading:!0}).then((function(e){console.log(e,"获取定位"),200==e.code&&(n.site_name=e.data.site_name,n.site_id=e.data.id,t.setStorageSync("group_id",e.data.group_id),t.setStorageSync("site_id",e.data.id),""!=t.getStorageSync("openid")&&n.gettoken(e.data.id,e.data.group_id))}))},gettoken:function(e,o){var n={site_id:e,group_id:o,user_id:t.getStorageSync("user_id")};console.log(n),this.$myRequest({url:"work/userGetToken",method:"POST",data:n,type:"php",hideLoading:!0}).then((function(e){console.log(e,"1111"),200==e.code&&t.setStorageSync("token",e.data)}))}}};e.default=o}).call(this,o("543d")["default"])},"55dc":function(t,e,o){"use strict";(function(t){o("238a"),o("921b");n(o("66fd"));var e=n(o("57b9"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},"57b9":function(t,e,o){"use strict";o.r(e);var n=o("41bc"),i=o("bbfc");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("ea50");var s,c=o("f0c5"),g=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"4ec8dcaf",null,!1,n["a"],s);e["default"]=g.exports},bbfc:function(t,e,o){"use strict";o.r(e);var n=o("42fb"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},e74c:function(t,e,o){},ea50:function(t,e,o){"use strict";var n=o("e74c"),i=o.n(n);i.a}},[["55dc","common/runtime","common/vendor"]]]);