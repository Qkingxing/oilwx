(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"09d2":function(t,e,n){"use strict";var o=n("f036"),i=n.n(o);i.a},"18e4":function(t,e,n){},"1ab2":function(t,e,n){},"2a0f":function(t,e,n){"use strict";n.r(e);var o=n("f062"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},3292:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"User",data:function(){return{userimg:"",username:"",cardnum:"",orderlist:["全部","待支付","待提货","已完成"],fwlist:["发票抬头","车辆监管","附近油站","今日油价","设置","开票记录"]}},onLoad:function(){},onShow:function(){this.userimg=t.getStorageSync("userimg"),this.username=t.getStorageSync("username"),this.cardnum=t.getStorageSync("cardnum")},methods:{mycoupon:function(){t.navigateTo({url:"../components/coupon-list/coupon-list"})},setting:function(){t.navigateTo({url:"../components/seting/seting"})},ordertypes:function(e,n){var o=e;t.navigateTo({url:"../components/oeder/oeder?tabindex=".concat(o)})},service:function(e){console.log(e),0==e?t.navigateTo({url:"../components/invoicelist/invoicelist"}):1==e?t.navigateTo({url:"../components/carlist/carlist"}):2==e?t.navigateTo({url:"../components/station/station"}):3==e?t.navigateTo({url:"../components/you-price/you-price"}):4==e&&this.setting()},getmess:function(){var t={};this.$myRequest({url:"order/getOrder",method:"POST",type:"",data:t,hideLoading:!0}).then((function(t){console.log(t,"订单"),t.code})).catch((function(t){}))}}};e.default=n}).call(this,n("543d")["default"])},"37fc":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"Order",data:function(){return{CustomBar:this.CustomBar,TabCur:0,scrollLeft:0,modalName:null,topnav:["今天","本周","本月"],orderlist:[{num:"564513212154",type:"1",shopimg:"../../static/images/youlogo.png",name:"测试订单",price:"563",position:"二环东路加油站",unit:"45",date:"2020/12/03  19:20",allprice:"888"},{num:"564513212154",type:"1",shopimg:"../../static/images/youlogo.png",name:"测试订单",price:"563",position:"二环东路加油站",unit:"45",date:"2020/12/03  19:20",allprice:"888"},{num:"564513212154",type:"1",shopimg:"../../static/images/youlogo.png",name:"测试订单",price:"563",position:"二环东路加油站",unit:"45",date:"2020/12/03  19:20",allprice:"888"},{num:"564513212154",type:"1",shopimg:"../../static/images/youlogo.png",name:"测试订单",price:"563",position:"二环东路加油站",unit:"45",date:"2020/12/03  19:20",allprice:"888"}],isback:!1,page:1,limit:6}},onLoad:function(t){console.log(t.isback),this.isback=t.isback},onShow:function(){this.getorder()},methods:{jump:function(e){var n=e.id;t.navigateTo({url:"../components/oildetail/oildetail?id=".concat(n)})},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1),this.getorder()},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},istrue:function(){console.log(111)},getorder:function(){var e=this,n=0;Number(this.TabCur)+1==1?n=1:Number(this.TabCur)+1==2?n=3:Number(this.TabCur)+1==3&&(n=4);var o={page:this.page,limit:this.limit,time_type:n,user_id:t.getStorageSync("user_id")};this.$myRequest({url:"order/getOrder",method:"POST",type:"",data:o,hideLoading:!0}).then((function(t){console.log(t,"订单"),200==t.code&&(e.orderlist=t.data,e.orderlist.forEach((function(t){t.shopimg=t.imgpath||"../../static/images/youlogo.png"})))})).catch((function(t){}))}}};e.default=n}).call(this,n("543d")["default"])},"41bc":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}))},"42c4":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("66fd"));function i(t){return t&&t.__esModule?t:{default:t}}var c=function(){n.e("colorui/components/shop/shopcart").then(function(){return resolve(n("1feb"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("colorui/components/shop/cartcontrol").then(function(){return resolve(n("e8ef"))}.bind(null,n)).catch(n.oe)},r={data:function(){return{CustomBar:this.CustomBar,title:"Hello",goods:[],windows_height:0,foodSTop:0,currentIndex:0,last:0,right_height:[],select_index:0,left_height:0,left_scroll:0,catrgoryList:[],timeout:null}},components:{shopcart:c,cartcontrol:a},onLoad:function(){var e=this;this.windows_height=Number(t.getSystemInfoSync().windowHeight)-55,setTimeout((function(){e.getHeightList()}),1e3)},onShow:function(){this.getshop()},computed:{getAllCount:function(t){for(var e=this,n=[],i=0,c=function(t){i=0,e.goods[t].treeList.forEach((function(n){n.count>=0&&(i+=n.count,o.default.set(e.goods[t],"count",i))})),n.push(i)},a=0;a<this.goods.length;a++)c(a);return n.sort((function(t,e){return t-e})),i=n[n.length-1],i}},methods:{getshop:function(){var e=this;console.log("进来了");var n={site_id:t.getStorageSync("site_id")};this.$myRequest({url:"customer/query_goods_list",method:"POST",data:n,hideLoading:!0}).then((function(t){console.log(t,"商品"),200==t.code&&(e.goods=t.data)}))},select:function(t){this.currentIndex=t,this.setScrollH(t)},setScrollH:function(e){var n=this,o=0,i=t.createSelectorQuery(),c=i.selectAll(".foods");console.log(c,"----"),this.$nextTick((function(){c.fields({size:!0},(function(t){0==e&&(n.foodSTop=0);for(var i=0;i<e;i++)o+=parseInt(t[i].height),n.foodSTop=o})).exec()}))},addCart:function(t){t.count>=0?(t.count++,this.goods.forEach((function(e){e.foods.forEach((function(e){t.name==e.name&&(e.count=t.count)}))}))):(console.log("add"),this.goods.forEach((function(e){e.foods.forEach((function(e){t.name==e.name&&o.default.set(e,"count",1)}))})))},decreaseCart:function(t){t.count&&(t.count--,this.goods.forEach((function(e){e.foods.forEach((function(e){t.name==e.name&&(e.count=t.count)}))})))},delAll:function(){this.goods.forEach((function(t){t.foods.forEach((function(t){t.count&&(t.count=0)}))}))},getHeightList:function(){var e=this,n=t.createSelectorQuery().in(this);n.select(".left-content").boundingClientRect((function(t){e.left_height=t.height})),n.selectAll(".foods").boundingClientRect((function(t){e.right_height=t.map((function(t){return t.top}))})).exec()},myscroll:function(t){var e=t.detail.scrollHeight-this.windows_height;if(e!=t.detail.scrollTop){var n=t.detail.scrollTop+110,o=+new Date;if(o-this.last>100){this.last=o;var i=this.right_height.findIndex((function(t,e,o){return t<=n&&n<o[e+1]}));if(this.currentIndex=i,this.left_height-this.windows_height){var c=this.left_height-this.windows_height;this.left_scroll=Math.round(i*c/(this.goods.length-1))}}}}}};e.default=r}).call(this,n("543d")["default"])},"42fb":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"Index",data:function(){return{lon:"",lat:"",location:"",site_name:"",origin:[{imgsrc:"../../static/images/three1.png",title:"扫一扫"},{imgsrc:"../../static/images/three2.png",title:"油客云闪付"},{imgsrc:"../../static/images/three3.png",title:"会员码"}],schop:[{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"100"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"500"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"1000"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"1500"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"2000"},{imgsrc:"../../static/images/youlogo.png",smoney:"50",price:"2500"}],shoplist:[{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠500",num:"58",price:"188"},{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠1000",num:"58",price:"188"},{imgsrc:"../../static/images/youlogo.png",tit:"油站优惠2500",num:"58",price:"188"}],baolist:[{baoimg:"../../static/images/bao1.png",baotext:"购物送油专区"},{baoimg:"../../static/images/bao2.png",baotext:"购水送油专区"}]}},onLoad:function(){},onShow:function(){this.getlocation(),this.getyujpw()},methods:{scroll:function(t){console.log(t),this.old.scrollTop=t.detail.scrollTop},godetail:function(e){t.navigateTo({url:"../components/shopdetail/shopdetail"})},tlick:function(e){if(console.log(t.getStorageSync("openid")),""!=t.getStorageSync("openid"))if(0==e){t.scanCode({onlyFromCamera:!0,success:function(t){console.log(t)}})}else 1==e?t.navigateTo({url:"../components/shanpay/shanpay"}):2==e&&t.navigateTo({url:"../components/ewm/ewm"});else t.navigateTo({url:"../login/wx_login"})},getlocation:function(){var t=this;console.log(t.$base,"0000");var e=new t.$amap.AMapWX({key:t.$base.gd_key});e.getRegeo({success:function(e){console.log(e);var n=/.+?(省|市|自治区|自治州|县|区)/g,o=e[0].regeocodeData.formatted_address;t.addressList=o.match(n).toString().split(","),t.location=o.replace(t.addressList[0],""),t.lat=e[0].latitude,t.lon=e[0].longitude,t.getsite(t.lat,t.lon)},fail:function(t){}})},getsite:function(e,n){var o=this,i={latitude:e,longitude:n};this.$myRequest({url:"work/get_latitude_longitude",method:"POST",data:i,type:"php",hideLoading:!0}).then((function(e){console.log(e,"获取定位"),200==e.code&&(o.site_name=e.data.site_name,o.site_id=e.data.id,t.setStorageSync("group_id",e.data.group_id),t.setStorageSync("site_id",e.data.id),""!=t.getStorageSync("openid")&&o.gettoken(e.data.id,e.data.group_id))}))},gettoken:function(e,n){var o={site_id:e,group_id:n,user_id:t.getStorageSync("user_id")};console.log(o),this.$myRequest({url:"work/userGetToken",method:"POST",data:o,type:"php",hideLoading:!0}).then((function(e){console.log(e,"1111"),200==e.code&&t.setStorageSync("token",e.data)}))}}};e.default=n}).call(this,n("543d")["default"])},"4ce0":function(t,e,n){"use strict";n.r(e);var o=n("894a"),i=n("9d38");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("8a9d");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"54028e99",null,!1,o["a"],a);e["default"]=u.exports},"57b9":function(t,e,n){"use strict";n.r(e);var o=n("41bc"),i=n("bbfc");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("ea50");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"4ec8dcaf",null,!1,o["a"],a);e["default"]=u.exports},"737c":function(t,e,n){"use strict";n.r(e);var o=n("3292"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},7668:function(t,e,n){"use strict";var o=n("1ab2"),i=n.n(o);i.a},"7afd":function(t,e,n){"use strict";n.r(e);var o=n("2a0f");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("7668");var c,a,r,u,s=n("f0c5"),l=Object(s["a"])(o["default"],c,a,!1,null,null,null,!1,r,u);e["default"]=l.exports},"81e7":function(t,e,n){"use strict";n.r(e);var o=n("42c4"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},8416:function(t,e,n){"use strict";var o=n("18e4"),i=n.n(o);i.a},"894a":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}))},"8a9d":function(t,e,n){"use strict";var o=n("f42a"),i=n.n(o);i.a},"90cb":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}))},"9d38":function(t,e,n){"use strict";n.r(e);var o=n("37fc"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},b7af:function(t,e,n){"use strict";(function(t){n("238a"),n("921b");var e=d(n("66fd")),o=d(n("7afd")),i=d(n("57b9")),c=d(n("c4cb")),a=d(n("4ce0")),r=d(n("fc26")),u=d(n("4907")),s=d(n("16c1")),l=d(n("0664")),f=d(n("eb84"));function d(t){return t&&t.__esModule?t:{default:t}}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default.component("Index",i.default),e.default.component("Shop",c.default),e.default.component("Order",a.default),e.default.component("User",r.default);var m=function(){n.e("colorui/components/cu-custom").then(function(){return resolve(n("aac1"))}.bind(null,n)).catch(n.oe)};e.default.component("cu-custom",m);var v=function(){n.e("colorui/components/cu-xian").then(function(){return resolve(n("ca60"))}.bind(null,n)).catch(n.oe)};e.default.component("cuxian",v),e.default.prototype.$amap=u.default,e.default.prototype.$base=s.default;var b=function(){Promise.all([n.e("common/vendor"),n.e("common/lb-picker/index")]).then(function(){return resolve(n("91c0"))}.bind(null,n)).catch(n.oe)};e.default.component("lb-picker",b),e.default.prototype.$myRequest=l.default.sendRequest,e.default.prototype.$noMultipleClicks=f.default.noMultipleClicks,e.default.config.productionTip=!1,o.default.mpType="app";var y=new e.default(p({},o.default));t(y).$mount()}).call(this,n("543d")["createApp"])},bbfc:function(t,e,n){"use strict";n.r(e);var o=n("42fb"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},c4cb:function(t,e,n){"use strict";n.r(e);var o=n("90cb"),i=n("81e7");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("8416");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"127075a4",null,!1,o["a"],a);e["default"]=u.exports},cc19:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}))},e74c:function(t,e,n){},ea50:function(t,e,n){"use strict";var o=n("e74c"),i=n.n(o);i.a},f036:function(t,e,n){},f062:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("66fd"));function i(t){return t&&t.__esModule?t:{default:t}}var c={onLaunch:function(){t.getSystemInfo({success:function(t){o.default.prototype.StatusBar=t.statusBarHeight;var e=wx.getMenuButtonBoundingClientRect();o.default.prototype.Custom=e,o.default.prototype.CustomBar=e.bottom+e.top-t.statusBarHeight}})},onShow:function(){},onHide:function(){}};e.default=c}).call(this,n("543d")["default"])},f42a:function(t,e,n){},fc26:function(t,e,n){"use strict";n.r(e);var o=n("cc19"),i=n("737c");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("09d2");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"ebc0c8a0",null,!1,o["a"],a);e["default"]=u.exports}},[["b7af","common/runtime","common/vendor"]]]);